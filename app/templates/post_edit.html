<!-- templates/new_post.html -->

{% extends "base.html" %}
{% block content %}
<div class="content">
    <div id="leftbar"></div>
    <div id="rightbar">
        <div class="sep20"></div>
        <div class="box">
            <h1>发帖提示</h1>
        </div>
        <div class="sep20"></div>
    </div>
    <div id="main">
        <div class="sep20"></div>
        <div class="box">
            <div class="cell flex-one-row">
                <h2>编辑主题</span>
            </div>
            <form method="post" action={{ url_for('main.post_edit',pid=post.pid)}}>
                {{ form.hidden_tag() }}
                <div class="cell">
                    {{ form.title(class_="new-title-input", tabindex="1", rows="1", maxlength="120", id="topic_title", autofocus=True, placeholder="请输入主题标题，以简要表达内容", style="font-size: 16px; line-height: 100%; overflow: hidden; overflow-wrap: break-word; height: 36px;") }}
                </div>
                <div class="sep20"></div>
                <label for="content">正文:</label>
                <div class="sep10"></div>
                <div class="cell">
                    {{ form.content(style="", maxlength="20000", id="editor" ,placeholder="请输入主题正文，支持Markdown语法") }}
                </div>
                <div class="sep20"></div>
                <label for="preview">预览:</label>
                <div class="sep10"></div>
                <div class="cell">
                    <div id="preview">
                        <div id="markdown-preview"><p style="color:#556;">请输入主题正文，此处为预览</p></div>
                    </div>
                </div>
                <div class="sep20"></div>
                <label for="node">节点:</label>
                <div class="sep10"></div>
                <div class="cell" style="">
                    {{ form.node(maxlength="200", id="node-select") }}
                </div>
                <div class="cell"  style="padding: 10px; padding-left: 0;">
                    <input type="submit" value="编辑主题" >
                </div>
            </form>
        </div>
        <div class="sep20"></div>
    </div>
</div>
<script src="{{ url_for('static', filename='js/md-preview.js') }}"></script>
{% endblock %}
